[{"path":"https://epiverse-trace.github.io/serofoi/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to serofoi","title":"Contributing to serofoi","text":"outlines propose change serofoi.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/CONTRIBUTING.html","id":"making-changes","dir":"","previous_headings":"","what":"Making changes","title":"Contributing to serofoi","text":"want make change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See bug report template. feature request see feature request.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Making changes","what":"Pull request process","title":"Contributing to serofoi","text":"See pull request template Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"epiverse-trace/serofoi\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Making changes","what":"Code style","title":"Contributing to serofoi","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to serofoi","text":"Please note serofoi project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 serofoi authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"what-is-the-force-of-infection","dir":"Articles","previous_headings":"","what":"What is the Force-of-Infection","title":"An introduction to Force-of-Infection (FoI) Models","text":"force infection, also known hazard rate infection pressure, key concept mathematical modelling infectious diseases. represents rate susceptible individuals become infected, given exposure pathogen. simple terms, force infection quantifies risk susceptible individual becoming infected period time. usually expressed rate per unit time (e.g., per day per year).","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"constant-vs-time-varying-foi","dir":"Articles","previous_headings":"","what":"Constant vs Time-varying FoI","title":"An introduction to Force-of-Infection (FoI) Models","text":"FoI one important parameters epidemiology, often incorrectly assumed constant time. Identifying whether FoI follows constant time-varying trend can important identification characterization spread disease. Table 1 summary models currently supported serofoi. Table 1. Model options descriptions.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"model-1--constant-force-of-infection-endemic-model","dir":"Articles","previous_headings":"","what":"Model 1. Constant Force-of-Infection (endemic model)","title":"An introduction to Force-of-Infection (FoI) Models","text":"endemic constant model simple mathematical model used epidemiology describe seroprevalence infectious disease within population, product long-term transmission. constant FoI endemic model, rate infection acquisition λ\\lambda constant time trajectory, seroprevalence PP behaves cumulative process increasing monotonically age. seroprevalence age aa time tt, : P(,t)=1−exp(−λa)  P(,t) = 1-\\exp\\left(-\\lambda \\right)   number positive cases follows binomial distribution, nn number trials (size age group) PP probability successes (seroprevalence) certain age group: p(,t)∼binom(n(,t),P(,t)) p(,t) \\sim binom(n(,t), P(,t))  serofoi, constant model, FoI (λ\\lambda) modelled within Bayesian framework using uniform prior distribution ∼U(0,2)\\sim U(0,2). Future versions package may allow choose different default distributions. model can implemented previously prepared dataset data_test means fit_seromodel function specifying fit_seromodel=\"constant\". object simdata_constant contains minimal simulated dataset emulates hypothetical endemic situation FoI constant value 0.2 includes data 250 samples individuals 2 47 years old number trials n=5n=5. following code shows implement constant model simulated serosurvey: Figure 1. Constant serofoi model plot. Simulated (red) vs modelled (blue) FoI. case, 800 iterations enough ensure convergence. plot_seromodel method provides visualisation results, including summary expected log pointwise predictive density (elpd) standard error (se) shown. say model converges R-hat estimates 1.1.","code":"data(\"simdata_constant\") serodata_constant <- prepare_serodata(simdata_constant) model_1 <- fit_seromodel(   serodata = serodata_constant,   foi_model = \"constant\",   iter = 800 ) plot_seromodel(   model_1,   serodata = serodata_constant,   size_text = 6 )"},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"time-varying-foi-models","dir":"Articles","previous_headings":"","what":"Time-varying FoI models","title":"An introduction to Force-of-Infection (FoI) Models","text":"time-varying FoI models, probability case positive age time tt also follows binomial distribution, described . However, seroprevalence obtained cumulative yearly-varying values FoI time: P(,t)=1−exp(−∑=t−+1tλi) P(,t) = 1 - \\exp\\left(-\\sum_{=t-+1}^{t}\\lambda_i\\right)  corresponding serosurvey completed time tsurt_{sur} informative interval [tsur−amax,tsur][t_{sur}-a_{max}, t_{sur}].","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"model-2--time-varying-foi---slow-time-varying-foi","dir":"Articles","previous_headings":"","what":"Model 2. Time-varying FoI - Slow Time-Varying FoI","title":"An introduction to Force-of-Infection (FoI) Models","text":"time-varying slow normal model relies following prior distributions FoI describe spread given infectious disease within population time: $$ \\lambda(t)\\sim normal(\\lambda(t-1), \\sigma) \\\\ \\lambda(t=1) \\sim normal(0, 1) $$ object simdata_sw_dec contains minimal simulated dataset emulates situation FoI follows stepwise decreasing tendency (FoI panel Fig. 2). simulated dataset contains information 250 samples individuals 2 47 years old number trials n=5n=5. following code shows implement slow time-varying normal model simulated serosurvey: Figure 2. Slow time-varying serofoi model plot. Simulated (red) vs modelled (blue) FoI. number iterations required may depend number years, reflected difference year serosurvey maximum age-class sampled.","code":"data(\"simdata_sw_dec\") serodata_sw_dec <- prepare_serodata(simdata_sw_dec) model_2 <- fit_seromodel(   serodata = serodata_sw_dec,   foi_model = \"tv_normal\",   iter = 1500 ) plot_seromodel(model_2,   serodata = serodata_sw_dec,   size_text = 6 )"},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"model-3--time-varying-foi---fast-epidemic-model","dir":"Articles","previous_headings":"","what":"Model 3. Time-varying FoI - Fast Epidemic Model","title":"An introduction to Force-of-Infection (FoI) Models","text":"time-varying fast epidemic model, relies normal prior distributions FoI logarithmic scale, .e: $$ \\lambda(t)\\sim normal(\\log(\\lambda(t-1)), \\sigma) \\\\ \\lambda(t=1) \\sim normal(-6, 4) $$ done order capture fast changes FoI trend. Importantly, standard deviation parameter normal distribution FoI λ(t)\\lambda(t) set using upper prior follows Cauchy distribution. order test model use minimal simulated dataset contained simdata_large_epi object. dataset emulates hypothetical situation three-year epidemic occurs 2032 2035. simulated serosurvey tests 250 individuals 0 50 years age year 2050. implementation fast epidemic model can obtained running following lines code: Figure 3. Time-varying fast epidemic serofoi model plot. Simulated (red) vs modelled (blue) FoI. Fig 3 can see fast epidemic serofoi model able identify large epidemic simulated simdata_large_epi dataset.","code":"data(\"simdata_large_epi\") serodata_large_epi <- prepare_serodata(simdata_large_epi) model_3 <- fit_seromodel(   serodata = serodata_large_epi,   foi_model = \"tv_normal_log\",   iter = 1500 ) model_3_plot <- plot_seromodel(model_3,   serodata = serodata_large_epi,   size_text = 6 ) plot(model_3_plot)"},{"path":"https://epiverse-trace.github.io/serofoi/articles/foi_models.html","id":"models-comparison","dir":"Articles","previous_headings":"","what":"Models Comparison","title":"An introduction to Force-of-Infection (FoI) Models","text":"statistical details three models described Table 2. Table 2. Statistical characteristics serofoi’s currently supported models FoI (λ\\lambda). nn size age group aa time-step tt PP corresponding seroprevalence. showed fast epidemic model (tv_normal_log) able identify large epidemic outbreak described simdata_large_epi dataset, simulated according step-wise decreasing FoI (red line Fig 3). Now, like know whether model actually fits dataset better available models serofoi. , also implement endemic model (constant) slow time-varying normal model (tv_normal): Using function cowplot::plot_grid can visualise results three models simultaneously: Figure 4. Model comparison three serofoi models large-epidemic simulated dataset. common criterion decide model fits data best choose one larger elpd. According criterion, case best model fast epidemic model, one manages identify large epidemic (see second row panel C Figure 4). NOTE: Running serofoi models first time local computer may take minutes rstan code compile locally. However, initial compilation complete, need local compilation.","code":"cowplot::plot_grid(model_1_plot, model_2_plot, model_3_plot,   nrow = 1, ncol = 3, labels = \"AUTO\" )"},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"usage","dir":"Articles","previous_headings":"","what":"Usage","title":"An introduction to serofoi","text":"informing public health response want know many individuals infected certain point time, relates level immunity given pathogen population. Based information, possible estimate speed susceptible individuals infected time population. call parameter Force--Infection (FoI). estimate parameter serofoi uses suit catalytic models.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"for-which-diseases-is-this-package","dir":"Articles","previous_headings":"","what":"For which diseases is this package?","title":"An introduction to serofoi","text":"serofoi package designed used infectious disease measure population immunity using IgG antibodies, : arboviruses (dengue, Zika, chikungunya), Chagas, alphaviruses, among many others. However, diseases serofoi may applicable current features. Please check model assumptions case.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"what-is-a-serosurvey","dir":"Articles","previous_headings":"","what":"What is a serosurvey?","title":"An introduction to serofoi","text":"serosurvey epidemiological study involves collection analysis blood samples representative population determine prevalence antibodies specific pathogen. antibodies typically produced immune system response infection, presence blood can serve indicator previous exposure pathogen. Serosurveys valuable tools public health researchers policymakers, provide insights spread infections within communities, proportion individuals immunity, effectiveness vaccination programs. Serosurveys can help guide targeted interventions, inform disease control strategies,evaluate success public health measures.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"what-type-of-serosurvey-data-is-needed-to-use-the-package","dir":"Articles","previous_headings":"","what":"What type of serosurvey data is needed to use the package?","title":"An introduction to serofoi","text":"package designed used serosurveys follow inclusion criteria: population-based cross-sectional surveys (hospital-based). Specify individuals’ age age group. Indicate diagnostic test(s) used. current version serofoi applies IgG antibodies. Identify location date (year) sample collection.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"what-we-assume-about-the-biological-process","dir":"Articles","previous_headings":"","what":"What we assume about the biological process","title":"An introduction to serofoi","text":"Current version serofoi includes following assumptions underlying biological process: seroreversion (positive negative). means IgG antibodies life-long waning immunity. may case several pathogens. inclusion seroreversion modelling process planned future versions serofoi. age-dependency. may case several pathogens. feature planned future versions serofoi. impact migration processes sampled population, means model suited situation high levels migration. differences mortality rate infected versus susceptible individuals. may limitation situations high infection fatality rate, Ebola.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"the-bayesian-statistical-framework","dir":"Articles","previous_headings":"","what":"The bayesian statistical framework","title":"An introduction to serofoi","text":"assess well mathematical representation different FoI models describes seroprevalence data, implement fitting process relies Bayesian framework. priors upper priors model indicate assumed trajectory FoI (either constant time-varying). serofoi provides set Bayesian comparison methods user choose various possible FoI models (trajectories) best fit seroprevalence data. details see FoI Models.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/serofoi.html","id":"modelling-the-force-of-infection-foi","dir":"Articles","previous_headings":"","what":"Modelling the Force-of-infection (FoI)","title":"An introduction to serofoi","text":"common assume FoI constant time. However always case; serofoi addresses enabling possibility implement different time-varying models FoI offering tools compare constant case order decide model fits serological survey best. integrated dataset serodata_test provides minimal example input package. following code can used prepare dataset model implementation implements basic constant model: details implementation time-varying models model comparison see FoI Models.","code":"library(serofoi) # Loading and preparing data for modelling data(chagas2012) serodata_test <- prepare_serodata(chagas2012) # Model implementation model_constant <- fit_seromodel(   serodata = serodata_test,   foi_model = \"constant\" ) # Visualisation plot_seromodel(model_constant,   serodata = serodata_test,   size_text = 6 )"},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-challenge","dir":"Articles","previous_headings":"Case study 1: Chikungunya (a fast-spreading epidemic scenario)","what":"The challenge:","title":"Real-life use cases for serofoi","text":"Chikungunya viral disease first described outbreak Tanzania 1952. several decades, primarily found Africa Asia. However, 2004, first Chikungunya outbreak outside regions occurred island Réunion Indian Ocean. Since , Chikungunya spread rapidly throughout world, including Americas, Europe, Pacific region. 2013, first cases Chikungunya reported Americas, virus since become endemic several countries Latin America. transmission Chikungunya primarily bites infected Aedes mosquitoes, humans serving primary amplifying host. symptoms Chikungunya include fever, joint pain, headache, muscle pain, rash, disease can range mild severe. Although Chikungunya typically fatal, can cause significant morbidity potential cause large-scale outbreaks, making important public health concern. methodological challenge best estimate disease burden untangling endemic epidemic patterns several locations around world. serofoi can assist estimates.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-dataset","dir":"Articles","previous_headings":"Case study 1: Chikungunya (a fast-spreading epidemic scenario)","what":"The dataset:","title":"Real-life use cases for serofoi","text":"gain insights transmission dynamics Chikungunya Americas, used dataset population-based study conducted Bahia, Brazil October-December 2015. study, conducted Dias et al. (2018), involved household interviews age-disaggregated serological surveys measure IgG antibodies Chikungunya virus. survey conducted immediately large Chikungunya epidemic area.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-results","dir":"Articles","previous_headings":"Case study 1: Chikungunya (a fast-spreading epidemic scenario)","what":"The results:","title":"Real-life use cases for serofoi","text":"serofoi used compare three potential scenarios Chikungunya transmission: constant endemic, epidemic slow, epidemic fast. Figure 3 displays comparison three serofoi models. results reveal strong statistical support model 3 (fast epidemic model) suggesting sudden increase transmission Chikungunya close year serosurvey (2015). exact year difficult estimate due large level aggregation data, divided 20-year age groups. Nevertheless, results consistent empirical evidence Dias et al. (2018), used interviews IgM testing show similar increase transmission period. Figure 1. Serofoi models FoI estimates Chikungunya virus transmission urban remote area Brazil.","code":"# Load and prepare data data(\"chik2015\") chik2015p <- prepare_serodata(chik2015)  # Implementation of the models m1_chik <- fit_seromodel(   serodata = chik2015p,   foi_model = \"constant\",   iter = 1000,   thin = 2 )  m2_chik <- fit_seromodel(   serodata = chik2015p,   foi_model = \"tv_normal\",   iter = 1500,   thin = 2 )  m3_chik <- fit_seromodel(   serodata = chik2015p,   foi_model = \"tv_normal_log\",   iter = 1500,   thin = 2 )  # Visualisation of the results p1_chik <- plot_seromodel(m1_chik,   serodata = chik2015p,   size_text = 6 ) p2_chik <- plot_seromodel(m2_chik,   serodata = chik2015p,   size_text = 6 ) p3_chik <- plot_seromodel(m3_chik,   serodata = chik2015p,   size_text = 6 )  cowplot::plot_grid(p1_chik, p2_chik, p3_chik, ncol = 3)"},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-challenge-1","dir":"Articles","previous_headings":"Case study 2. Hidden Alphaviruses epidemics in Panama","what":"The challenge:","title":"Real-life use cases for serofoi","text":"emerging alphaviruses, including Venezuelan Equine Encephalitis Virus (VEEV), RNA viruses can cause disease humans animals. primarily transmitted mosquitoes complex transmission cycle involves human non-human hosts, including birds mammals. Alphaviruses can cause significant morbidity mortality. Hidden epidemics endemic transmission alphaviruses occurring small remote communities Eastern Panama decades without major notice (Carrera et al. 2020). main concern alphaviruses potential spill human populations reach highly populated cities urban areas humans susceptible. Darien province Eastern Panama, bordering north Colombia south Pacific Ocean, home several indigenous communities live traditional remote villages. Notably, area also critical crossing point illegal immigration Africa South America north Americas. Estimating temporal trends incidence alphaviruses region methodological challenge critical inform control strategies. serofoi can assist estimations.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-dataset-1","dir":"Articles","previous_headings":"Case study 2. Hidden Alphaviruses epidemics in Panama","what":"The dataset:","title":"Real-life use cases for serofoi","text":"(Carrera et al. 2020), use dataset measuring IgG antibodies VEEV rural village Panamá 2012. VEEV primarily transmitted mosquitoes can cause disease horses humans. dataset, veev2012 included serofoi.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-result","dir":"Articles","previous_headings":"Case study 2. Hidden Alphaviruses epidemics in Panama","what":"The result:","title":"Real-life use cases for serofoi","text":"serofoi used compare three potential scenarios VEEV transmission: constant endemic, epidemic slow, epidemic fast. results showed significant increase estimated Force--Infection (FoI) region, indicating rise VEEV transmission. study found much higher statistical support time-varying rather constant scenario based higher elpd lower se values two time-varying models compared constant one (Figure 2). results also suggest slightly (yet relevant) better support model 3 (tv-nomal-log), compared model 2 (tv-normal), suggesting recent increase transmission study area. Figure 2. serofoi models FoI estimates Venezuelan Equine Encephalitis Virus (VEEV) transmission rural remote area Panama.","code":"# Load and prepare data data(\"veev2012\") veev2012p <- prepare_serodata(veev2012)  # Implementation of the models m1_veev <- fit_seromodel(   serodata = veev2012p,   foi_model = \"constant\",   iter = 500,   thin = 2 )  m2_veev <- fit_seromodel(   serodata = veev2012p,   foi_model = \"tv_normal\",   iter = 500,   thin = 2 )  m3_veev <- fit_seromodel(   serodata = veev2012p,   foi_model = \"tv_normal_log\",   iter = 500,   thin = 2 )  # Visualisation of the results p1_veev <- plot_seromodel(m1_veev,   serodata = veev2012p,   size_text = 6 ) p2_veev <- plot_seromodel(m2_veev,   serodata = veev2012p,   size_text = 6 ) p3_veev <- plot_seromodel(m3_veev,   serodata = veev2012p,   size_text = 6 )  cowplot::plot_grid(p1_veev, p2_veev, p3_veev, ncol = 3)"},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-challenge-2","dir":"Articles","previous_headings":"Case study 3. Chagas disease (endemic disease)","what":"The challenge:","title":"Real-life use cases for serofoi","text":"Chagas disease parasitic infection caused protozoan Trypanosoma cruzi. endemic Latin America, transmitted humans bite infected triatomine bugs, present Americas thousands years. Triatomine bugs established domiciliary habits, living inside houses biting humans. Insecticide spraying primary control strategy Chagas disease, effectively reduces population triatomine bugs, main vector disease, domestic environments. According (Cucunubá et al. 2017), interventions Chagas disease control ongoing Colombia since 1980s, heterogeneous impact depending type setting, environment, population. methodological challenge best estimate historical effectiveness control strategies across endemic areas. serofoi can assist estimations.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/articles/use_cases.html","id":"the-dataset-2","dir":"Articles","previous_headings":"Case study 3. Chagas disease (endemic disease)","what":"The dataset","title":"Real-life use cases for serofoi","text":"Based data analysis shown (Cucunubá et al. 2017), use one datasets measure seroprevalence IgG antibodies Trypanosoma cruzi infection rural areas Colombia. dataset part serofoi package chagas2012. dataset corresponds serosurvey conducted 2012 rural indigenous community known long-term endemic transmission, control interventions taken place years. ### result Chagas endemic disease, use serofoi endemic models (1. constant, 2. tv-normal) chagas2012 dataset compare model better supported. results shown Figure 3. found serosurvey, serofoi models converged (based R-hat values crossing 1.1), comparison two models shows relevant slow decreasing trend, consistent model 2 - tv-normal. model statistically better supported based highest elpd lowest se values compared constant model. results suggest slow, still relevant decrease FoI values last decades may consequence interventions local environmental changes occurred study area years, point (2012) serosurvey conducted. Figure 3. serofoi endemic models FoI estimates Trypanosoma cruzi rural area Colombia. ## References","code":"# Load and prepare data data(\"chagas2012\") chagas2012p <- prepare_serodata(chagas2012)  # Implementation of the models m1_cha <- fit_seromodel(   serodata = chagas2012p,   foi_model = \"constant\",   iter = 800 ) m2_cha <- fit_seromodel(   serodata = chagas2012p,   foi_model = \"tv_normal\",   iter = 800 )  # Visualisation of the results p1_cha <- plot_seromodel(   m1_cha,   serodata = chagas2012p,   size_text = 6 ) p2_cha <- plot_seromodel(   m2_cha,   serodata = chagas2012p,   size_text = 6 ) cowplot::plot_grid(p1_cha, p2_cha, ncol = 2)"},{"path":"https://epiverse-trace.github.io/serofoi/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Zulma M. Cucunubá. Author, maintainer. Nicolás T. Domínguez. Author. Ben Lambert. Author. Pierre Nouvellet. Author. Miguel Gámez. Contributor. Geraldine Gómez. Contributor. Jaime . Pavlich-Mariscal. Contributor.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Cucunubá Z, T. Domínguez N, Lambert B, Nouvellet P (2024). serofoi: Estimates Force--Infection Given Pathogen Population Based Seroprevalence Studies. R package version 0.1.0, https://github.com/epiverse-trace/serofoi, https://epiverse-trace.github.io/serofoi/.","code":"@Manual{,   title = {serofoi: Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies},   author = {Zulma M. Cucunubá and Nicolás {T. Domínguez} and Ben Lambert and Pierre Nouvellet},   year = {2024},   note = {R package version 0.1.0,     https://github.com/epiverse-trace/serofoi},   url = {https://epiverse-trace.github.io/serofoi/}, }"},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"serofoi-force-of-infection-from-population-based-serosurveys-with-age-disaggregated-data-","dir":"","previous_headings":"","what":"serofoi: force-of-infection from population based serosurveys with age-disaggregated data","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"serofoi R package estimate Force--Infection (FoI) given pathogen age-disaggregated population-based cross-sectional serosurveys, using Bayesian framework. package provides set features assessing model fitting, convergence visualisation. serofoi relies rstan package, provides R interface Stan programming language statistical Bayesian modelling. Particularly, serofoi relies use Hamiltonian Monte Carlo (HMC) algorithm implemented Stan Markov chain Monte Carlo (MCMC) sampling. implemented methods outlined (Cucunubá et al. 2017) (Carrera et al. 2020) (see FoI Models details) serofoi part Epiverse Initiative.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"can install development version serofoi GitHub :","code":"if(!require(\"pak\")) install.packages(\"pak\") pak::pak(\"epiverse-trace/serofoi\")"},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"serofoi provides minimal serosurvey dataset, serodata, can used test package. function prepare_serodata prepare entry data use modelling module; function computes sample size, years birth binomial confidence interval age group provided dataset. visualisation prepared seroprevalence data can obtained using function plot_seroprev:","code":"# Load example dataset chagas2012 included with the package data(chagas2012) head(chagas2012, 5) #>       survey total counts age_min age_max tsur country  test         antibody #> 1 COL-035-93    34      0       1       1 2012     COL ELISA IgG anti-T.cruzi #> 2 COL-035-93    25      0       2       2 2012     COL ELISA IgG anti-T.cruzi #> 3 COL-035-93    35      1       3       3 2012     COL ELISA IgG anti-T.cruzi #> 4 COL-035-93    29      0       4       4 2012     COL ELISA IgG anti-T.cruzi #> 5 COL-035-93    36      0       5       5 2012     COL ELISA IgG anti-T.cruzi serodata_test <- prepare_serodata(chagas2012) plot_seroprev(serodata_test, size_text = 15)"},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"contributions","dir":"","previous_headings":"Quick start","what":"Contributions","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"Contributors project include: Zulma M. Cucunubá (author, maintainer) Nicolás Torres (author) Ben Lambert (author) Pierre Nouvellet (author) Geraldine Gómez (contributor) Jaime . Pavlich-Mariscal (contributor) Miguel Gamez (contributor) Hugo Gruson (contributor) David Santiago Quevedo (contributor) Everlyn Kamau (contributor) Richard Creswell (contributor) Sumali Bajaj (contributor)","code":""},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"package-vignettes","dir":"","previous_headings":"","what":"Package vignettes","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"details use serofoi can found online documentation package vignettes, Get Started, Introduction FoI Models Real-life Use Cases serofoi","code":""},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"help","dir":"","previous_headings":"","what":"Help","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"report bug please open issue.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"contribute","dir":"","previous_headings":"","what":"Contribute","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"Contributions serofoi welcomed. Please follow package contributing guide.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of conduct","title":"Estimates the Force-of-Infection of a Given Pathogen from Population Based Seroprevalence Studies","text":"Please note serofoi project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/reference/chagas2012.html","id":null,"dir":"Reference","previous_headings":"","what":"Seroprevalence data on serofoi — chagas2012","title":"Seroprevalence data on serofoi — chagas2012","text":"Data serological surveys","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/chagas2012.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Seroprevalence data on serofoi — chagas2012","text":"","code":"chagas2012"},{"path":"https://epiverse-trace.github.io/serofoi/reference/chagas2012.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Seroprevalence data on serofoi — chagas2012","text":"object class \"cross\"; see qtl::read.cross().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/chagas2012.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Seroprevalence data on serofoi — chagas2012","text":"","code":"chagas2012 #>        survey total counts age_min age_max tsur country  test         antibody #> 1  COL-035-93    34      0       1       1 2012     COL ELISA IgG anti-T.cruzi #> 2  COL-035-93    25      0       2       2 2012     COL ELISA IgG anti-T.cruzi #> 3  COL-035-93    35      1       3       3 2012     COL ELISA IgG anti-T.cruzi #> 4  COL-035-93    29      0       4       4 2012     COL ELISA IgG anti-T.cruzi #> 5  COL-035-93    36      0       5       5 2012     COL ELISA IgG anti-T.cruzi #> 6  COL-035-93    23      0       6       6 2012     COL ELISA IgG anti-T.cruzi #> 7  COL-035-93    34      0       7       7 2012     COL ELISA IgG anti-T.cruzi #> 8  COL-035-93    18      0       8       8 2012     COL ELISA IgG anti-T.cruzi #> 9  COL-035-93    21      0       9       9 2012     COL ELISA IgG anti-T.cruzi #> 10 COL-035-93    24      0      10      10 2012     COL ELISA IgG anti-T.cruzi #> 11 COL-035-93    13      1      11      11 2012     COL ELISA IgG anti-T.cruzi #> 12 COL-035-93    28      0      12      12 2012     COL ELISA IgG anti-T.cruzi #> 13 COL-035-93    15      0      13      13 2012     COL ELISA IgG anti-T.cruzi #> 14 COL-035-93    25      0      14      14 2012     COL ELISA IgG anti-T.cruzi #> 15 COL-035-93    13      0      15      15 2012     COL ELISA IgG anti-T.cruzi #> 16 COL-035-93    16      0      16      16 2012     COL ELISA IgG anti-T.cruzi #> 17 COL-035-93    12      0      17      17 2012     COL ELISA IgG anti-T.cruzi #> 18 COL-035-93    18      0      18      18 2012     COL ELISA IgG anti-T.cruzi #> 19 COL-035-93     9      0      19      19 2012     COL ELISA IgG anti-T.cruzi #> 20 COL-035-93     8      0      20      20 2012     COL ELISA IgG anti-T.cruzi #> 21 COL-035-93     4      0      21      21 2012     COL ELISA IgG anti-T.cruzi #> 22 COL-035-93    19      0      22      22 2012     COL ELISA IgG anti-T.cruzi #> 23 COL-035-93    15      0      23      23 2012     COL ELISA IgG anti-T.cruzi #> 24 COL-035-93    14      0      24      24 2012     COL ELISA IgG anti-T.cruzi #> 25 COL-035-93    20      0      25      25 2012     COL ELISA IgG anti-T.cruzi #> 26 COL-035-93    11      1      26      26 2012     COL ELISA IgG anti-T.cruzi #> 27 COL-035-93     8      1      27      27 2012     COL ELISA IgG anti-T.cruzi #> 28 COL-035-93     9      0      28      28 2012     COL ELISA IgG anti-T.cruzi #> 29 COL-035-93     9      0      29      29 2012     COL ELISA IgG anti-T.cruzi #> 30 COL-035-93    10      1      30      30 2012     COL ELISA IgG anti-T.cruzi #> 31 COL-035-93    10      1      31      31 2012     COL ELISA IgG anti-T.cruzi #> 32 COL-035-93    11      0      32      32 2012     COL ELISA IgG anti-T.cruzi #> 33 COL-035-93    11      1      33      33 2012     COL ELISA IgG anti-T.cruzi #> 34 COL-035-93     8      0      34      34 2012     COL ELISA IgG anti-T.cruzi #> 35 COL-035-93    10      1      35      35 2012     COL ELISA IgG anti-T.cruzi #> 36 COL-035-93    10      3      36      36 2012     COL ELISA IgG anti-T.cruzi #> 37 COL-035-93     9      1      37      37 2012     COL ELISA IgG anti-T.cruzi #> 38 COL-035-93     4      1      38      38 2012     COL ELISA IgG anti-T.cruzi #> 39 COL-035-93     4      0      39      39 2012     COL ELISA IgG anti-T.cruzi #> 40 COL-035-93     9      2      40      40 2012     COL ELISA IgG anti-T.cruzi #> 41 COL-035-93     4      2      41      41 2012     COL ELISA IgG anti-T.cruzi #> 42 COL-035-93     8      0      42      42 2012     COL ELISA IgG anti-T.cruzi #> 43 COL-035-93     3      1      43      43 2012     COL ELISA IgG anti-T.cruzi #> 44 COL-035-93     1      1      44      44 2012     COL ELISA IgG anti-T.cruzi #> 45 COL-035-93     3      0      45      45 2012     COL ELISA IgG anti-T.cruzi #> 46 COL-035-93     3      2      46      46 2012     COL ELISA IgG anti-T.cruzi #> 47 COL-035-93     2      2      48      48 2012     COL ELISA IgG anti-T.cruzi #> 48 COL-035-93     3      2      49      49 2012     COL ELISA IgG anti-T.cruzi #> 49 COL-035-93     3      0      50      50 2012     COL ELISA IgG anti-T.cruzi #> 50 COL-035-93     1      1      51      51 2012     COL ELISA IgG anti-T.cruzi #> 51 COL-035-93     6      3      52      52 2012     COL ELISA IgG anti-T.cruzi #> 52 COL-035-93     4      0      53      53 2012     COL ELISA IgG anti-T.cruzi #> 53 COL-035-93     3      1      54      54 2012     COL ELISA IgG anti-T.cruzi #> 54 COL-035-93     6      3      55      55 2012     COL ELISA IgG anti-T.cruzi #> 55 COL-035-93     1      0      56      56 2012     COL ELISA IgG anti-T.cruzi #> 56 COL-035-93     4      3      57      57 2012     COL ELISA IgG anti-T.cruzi #> 57 COL-035-93     3      2      58      58 2012     COL ELISA IgG anti-T.cruzi #> 58 COL-035-93     1      0      59      59 2012     COL ELISA IgG anti-T.cruzi #> 59 COL-035-93    11      1      60      60 2012     COL ELISA IgG anti-T.cruzi #> 60 COL-035-93     5      0      61      61 2012     COL ELISA IgG anti-T.cruzi #> 61 COL-035-93     1      1      62      62 2012     COL ELISA IgG anti-T.cruzi #> 62 COL-035-93     2      1      63      63 2012     COL ELISA IgG anti-T.cruzi #> 63 COL-035-93     5      3      64      64 2012     COL ELISA IgG anti-T.cruzi #> 64 COL-035-93     8      2      65      65 2012     COL ELISA IgG anti-T.cruzi #> 65 COL-035-93     1      1      66      66 2012     COL ELISA IgG anti-T.cruzi #> 66 COL-035-93     1      1      67      67 2012     COL ELISA IgG anti-T.cruzi #> 67 COL-035-93     2      0      68      68 2012     COL ELISA IgG anti-T.cruzi #> 68 COL-035-93     5      2      69      69 2012     COL ELISA IgG anti-T.cruzi #> 69 COL-035-93     3      2      70      70 2012     COL ELISA IgG anti-T.cruzi #> 70 COL-035-93     1      1      71      71 2012     COL ELISA IgG anti-T.cruzi #> 71 COL-035-93     1      1      72      72 2012     COL ELISA IgG anti-T.cruzi #> 72 COL-035-93     1      1      77      77 2012     COL ELISA IgG anti-T.cruzi"},{"path":"https://epiverse-trace.github.io/serofoi/reference/chik2015.html","id":null,"dir":"Reference","previous_headings":"","what":"Seroprevalence data on serofoi — chik2015","title":"Seroprevalence data on serofoi — chik2015","text":"Data serological surveys","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/chik2015.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Seroprevalence data on serofoi — chik2015","text":"","code":"chik2015"},{"path":"https://epiverse-trace.github.io/serofoi/reference/chik2015.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Seroprevalence data on serofoi — chik2015","text":"object class \"cross\"; see qtl::read.cross().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/chik2015.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Seroprevalence data on serofoi — chik2015","text":"","code":"chik2015 #>           survey total counts age_min age_max tsur country  test       antibody #> 1 BRA 2015(S019)   144     63      40      59 2015     BRA ELISA IgG anti-CHIKV #> 2 BRA 2015(S019)   148     69      60      79 2015     BRA ELISA IgG anti-CHIKV #> 3 BRA 2015(S019)    45     17       1      19 2015     BRA ELISA IgG anti-CHIKV #> 4 BRA 2015(S019)   109     55      20      39 2015     BRA ELISA IgG anti-CHIKV #>          reference #> 1 Dias et al. 2018 #> 2 Dias et al. 2018 #> 3 Dias et al. 2018 #> 4 Dias et al. 2018"},{"path":"https://epiverse-trace.github.io/serofoi/reference/extract_seromodel_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to extract a summary of the specified serological model object — extract_seromodel_summary","title":"Function to extract a summary of the specified serological model object — extract_seromodel_summary","text":"function extracts summary corresponding serological model object containing information original serological survey data used fit model, year survey took place, type test taken corresponding antibody, well information convergence model, like expected log pointwise predictive density elpd corresponding standard deviation.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/extract_seromodel_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to extract a summary of the specified serological model object — extract_seromodel_summary","text":"","code":"extract_seromodel_summary(seromodel_object, serodata)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/extract_seromodel_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to extract a summary of the specified serological model object — extract_seromodel_summary","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/extract_seromodel_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to extract a summary of the specified serological model object — extract_seromodel_summary","text":"model_summary. Object summary seromodel_object containing following: foi_model Name selected model. data_set Seroprevalence survey label country Name country survey conducted . year Year survey conducted. test Type test survey. antibody Antibody n_sample Total number samples survey. n_agec Number age groups considered. n_iter Number iterations chain including warmup. elpd elpd se se converged convergence","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/extract_seromodel_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to extract a summary of the specified serological model object — extract_seromodel_summary","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\" ) extract_seromodel_summary(seromodel_object,   serodata = serodata ) #>   foi_model    dataset country year  test         antibody n_sample n_agec #> 1  constant COL-035-93     COL 2012 ELISA IgG anti-T.cruzi      747     72 #>   n_iter   elpd   se converged #> 1   1000 -92.73 6.42       Yes"},{"path":"https://epiverse-trace.github.io/serofoi/reference/fit_seromodel.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit selected model to the specified seroprevalence survey data — fit_seromodel","title":"Fit selected model to the specified seroprevalence survey data — fit_seromodel","text":"function fits specified model foi_model serological survey data serodata means sampling. function determines whether corresponding stan model object needs compiled rstan.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/fit_seromodel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit selected model to the specified seroprevalence survey data — fit_seromodel","text":"","code":"fit_seromodel(   serodata,   foi_model = c(\"constant\", \"tv_normal_log\", \"tv_normal\"),   foi_location = 0,   foi_scale = 1,   chunks = NULL,   chunk_size = 1,   iter = 1000,   adapt_delta = 0.9,   max_treedepth = 10,   seed = 12345,   ... )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/fit_seromodel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit selected model to the specified seroprevalence survey data — fit_seromodel","text":"serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata(). foi_model Name selected model. Current version provides three options: \"constant\" Runs constant model \"tv_normal\" Runs normal model \"tv_normal_log\" Runs normal logarithmic model foi_location Location parameter force--infection distribution selected model. Depending foi_model, meaning may vary. foi_scale Scale parameter force--infection distribution selected model. Depending foi_model, meaning may vary. chunks Numeric list specifying chunk structure time interval birth year oldest age cohort min(serodata$age_mean_f) time serosurvey conducted t_sur. NULL, time interval divided chunks size chunk_size. chunk_size Size chunks used case chunk structure chunks specified fit_seromodel. Default 1, meaning one force infection value estimated every year time interval spanned serosurvey. length time interval exactly divisible chunk_size, remainder years included last chunk. iter Number interactions chain including warmup. iter sampling. adapt_delta Real number 0 1 represents target average acceptance probability. Increasing value adapt_delta result smaller step size fewer divergences. details refer control parameter sampling . max_treedepth Maximum tree depth binary tree used NUTS stan sampler. details refer control parameter sampling. seed details refer seed parameter sampling. ... Additional parameters sampling.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/fit_seromodel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit selected model to the specified seroprevalence survey data — fit_seromodel","text":"seromodel_object. stanfit object returned function sampling","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/fit_seromodel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit selected model to the specified seroprevalence survey data — fit_seromodel","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_fit <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\" )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/generate_sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate simulated serosurvey according to the specified FoI — generate_sim_data","title":"Generate simulated serosurvey according to the specified FoI — generate_sim_data","text":"Generate simulated serosurvey according specified FoI","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/generate_sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate simulated serosurvey according to the specified FoI — generate_sim_data","text":"","code":"generate_sim_data(   sim_data,   foi,   sample_size_by_age,   mu = 0,   model_type = \"time-varying\",   survey_label = \"sim_data\",   seed = 1234 )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/generate_sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate simulated serosurvey according to the specified FoI — generate_sim_data","text":"sim_data dataframe object containing following columns: age Age group markers tsur Year survey foi Numeric atomic vector corresponding desired time-varying age-varying Force--Infection simulate sample_size_by_age Integer indicating sample size age group. corresponds number trials size rbinom. mu Seroreversion rate model_type String specifying type model used. Current valid options 'time-varying' 'age-varying' survey_label Label resulting simulated serosurvey. seed Seed random number generation.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/generate_sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate simulated serosurvey according to the specified FoI — generate_sim_data","text":"Dataframe containing simulated serosurvey.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/generate_sim_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate simulated serosurvey according to the specified FoI — generate_sim_data","text":"","code":"n_years <- 50 sim_data <- data.frame(   age = seq(1,n_years),   tsur = 2050 ) foi <- rep(0.02, n_years) sample_size_by_age <- as.integer(runif(n = n_years, 5, 10)) sim_data <- generate_sim_data(   sim_data = sim_data,   foi = foi,   sample_size_by_age = sample_size_by_age,   survey_label = \"sim_constant_foi\" )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_age_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct age-group variable from age column — get_age_group","title":"Construct age-group variable from age column — get_age_group","text":"Simplified version get_age_group. function splits age interval age_min age_max steps length step. age_min age_max calculated age. cases age_max%%(step+1)!=0, last age interval truncated different length others.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_age_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct age-group variable from age column — get_age_group","text":"","code":"get_age_group(age, step)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_age_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct age-group variable from age column — get_age_group","text":"age vector containing age information step step used split age interval","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_age_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct age-group variable from age column — get_age_group","text":"age_group factor variable grouping age age intervals specified min(age), max(age).","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_chunk_structure.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate list containing the chunk structure to be used in the retrospective estimation of the force of infection. — get_chunk_structure","title":"Generate list containing the chunk structure to be used in the retrospective estimation of the force of infection. — get_chunk_structure","text":"function generates numeric list specifying chunk structure time interval spanning year birth oldest age cohort time serosurvey conducted.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_chunk_structure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate list containing the chunk structure to be used in the retrospective estimation of the force of infection. — get_chunk_structure","text":"","code":"get_chunk_structure(serodata, chunk_size)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_chunk_structure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate list containing the chunk structure to be used in the retrospective estimation of the force of infection. — get_chunk_structure","text":"serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata(). chunk_size Size chunks used case chunk structure chunks specified fit_seromodel. Default 1, meaning one force infection value estimated every year time interval spanned serosurvey. length time interval exactly divisible chunk_size, remainder years included last chunk.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_chunk_structure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate list containing the chunk structure to be used in the retrospective estimation of the force of infection. — get_chunk_structure","text":"","code":"data(chagas2012) serodata <- prepare_serodata(serodata = chagas2012, alpha = 0.05) cohort_ages <- get_cohort_ages(serodata = serodata)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_cohort_ages.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate data frame containing the age of each cohort corresponding to each birth year excluding the year of the survey. — get_cohort_ages","title":"Generate data frame containing the age of each cohort corresponding to each birth year excluding the year of the survey. — get_cohort_ages","text":"function generates data frame containing age cohort corresponding birth_year excluding year survey, cohort age still 0. specified serological survey data serodata excluding year survey.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_cohort_ages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate data frame containing the age of each cohort corresponding to each birth year excluding the year of the survey. — get_cohort_ages","text":"","code":"get_cohort_ages(serodata)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_cohort_ages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate data frame containing the age of each cohort corresponding to each birth year excluding the year of the survey. — get_cohort_ages","text":"serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_cohort_ages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate data frame containing the age of each cohort corresponding to each birth year excluding the year of the survey. — get_cohort_ages","text":"cohort_ages. data frame containing age cohort corresponding birth year","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_cohort_ages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate data frame containing the age of each cohort corresponding to each birth year excluding the year of the survey. — get_cohort_ages","text":"","code":"data(chagas2012) serodata <- prepare_serodata(serodata = chagas2012, alpha = 0.05) cohort_ages <- get_cohort_ages(serodata = serodata)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_foi_central_estimates.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract central estimates for the fitted forced FoI — get_foi_central_estimates","title":"Extract central estimates for the fitted forced FoI — get_foi_central_estimates","text":"Extract central estimates fitted forced FoI","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_foi_central_estimates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract central estimates for the fitted forced FoI — get_foi_central_estimates","text":"","code":"get_foi_central_estimates(seromodel_object, cohort_ages)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_foi_central_estimates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract central estimates for the fitted forced FoI — get_foi_central_estimates","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. cohort_ages data frame containing age cohort corresponding birth year.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_foi_central_estimates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract central estimates for the fitted forced FoI — get_foi_central_estimates","text":"foi_central_estimates. Central estimates fitted forced FoI","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_foi_central_estimates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract central estimates for the fitted forced FoI — get_foi_central_estimates","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\" ) cohort_ages <- get_cohort_ages(serodata = serodata) foi_central_estimates <- get_foi_central_estimates(   seromodel_object = seromodel_object,   cohort_ages = cohort_ages )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_prev_expanded.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate data frame containing the confidence interval based on a force-of-infection fitting — get_prev_expanded","title":"Generate data frame containing the confidence interval based on a force-of-infection fitting — get_prev_expanded","text":"function computes corresponding binomial confidence intervals obtained prevalence based fitting force--infection foi plotting analysis purposes.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_prev_expanded.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate data frame containing the confidence interval based on a force-of-infection fitting — get_prev_expanded","text":"","code":"get_prev_expanded(foi, serodata, alpha = 0.05, bin_data = FALSE, bin_step = 5)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_prev_expanded.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate data frame containing the confidence interval based on a force-of-infection fitting — get_prev_expanded","text":"foi Object containing information force--infection. obtained rstan::extract(seromodel_object$seromodel, \"foi\", inc_warmup = FALSE)[[1]]. serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata(). alpha Probability threshold statistical significance used binomial confidence interval, lower upper quantiles estimated prevalence. bin_data TRUE, serodata binned means prepare_bin_data. Otherwise, age groups kept originally input. bin_step Integer specifying age groups bin size used bin_data set TRUE.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_prev_expanded.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate data frame containing the confidence interval based on a force-of-infection fitting — get_prev_expanded","text":"prev_final. expanded prevalence data. used plotting purposes visualization module.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_prev_expanded.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate data frame containing the confidence interval based on a force-of-infection fitting — get_prev_expanded","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\" ) foi <- rstan::extract(seromodel_object, \"foi\")[[1]] get_prev_expanded(foi, serodata) #>    age predicted_prev predicted_prev_lower predicted_prev_upper   prev_obs #> 1    1    0.003863759          0.003065157          0.004880402 0.00000000 #> 2    2    0.007712589          0.006120920          0.009736986 0.00000000 #> 3    3    0.011546548          0.009167316          0.014569868 0.02857143 #> 4    4    0.015365693          0.012204374          0.019379164 0.00000000 #> 5    5    0.019170082          0.015232123          0.024164988 0.00000000 #> 6    6    0.022959772          0.018250592          0.028927456 0.00000000 #> 7    7    0.026734820          0.021259808          0.033666680 0.00000000 #> 8    8    0.030495282          0.024259801          0.038382776 0.00000000 #> 9    9    0.034241214          0.027250598          0.043075855 0.00000000 #> 10  10    0.037972673          0.030232228          0.047746030 0.00000000 #> 11  11    0.041689714          0.033204719          0.052393412 0.07692308 #> 12  12    0.045392394          0.036168099          0.057018114 0.00000000 #> 13  13    0.049080767          0.039122395          0.061620245 0.00000000 #> 14  14    0.052754889          0.042067637          0.066199915 0.00000000 #> 15  15    0.056414816          0.045003850          0.070757235 0.00000000 #> 16  16    0.060060601          0.047931064          0.075292314 0.00000000 #> 17  17    0.063692300          0.050849305          0.079805260 0.00000000 #> 18  18    0.067309967          0.053758601          0.084296180 0.00000000 #> 19  19    0.070913656          0.056658980          0.088765183 0.00000000 #> 20  20    0.074503422          0.059550469          0.093212376 0.00000000 #> 21  21    0.078079317          0.062433095          0.097637864 0.00000000 #> 22  22    0.081641396          0.065306885          0.102041755 0.00000000 #> 23  23    0.085189712          0.068171866          0.106424152 0.00000000 #> 24  24    0.088724318          0.071028066          0.110785162 0.00000000 #> 25  25    0.092245267          0.073875512          0.115124888 0.00000000 #> 26  26    0.095752612          0.076714229          0.119443435 0.09090909 #> 27  27    0.099246406          0.079544245          0.123740905 0.12500000 #> 28  28    0.102726701          0.082365587          0.128017402 0.00000000 #> 29  29    0.106193548          0.085178281          0.132273028 0.00000000 #> 30  30    0.109647000          0.087982353          0.136507885 0.10000000 #> 31  31    0.113087109          0.090777831          0.140722074 0.10000000 #> 32  32    0.116513927          0.093564740          0.144915696 0.00000000 #> 33  33    0.119927504          0.096343107          0.149088851 0.09090909 #> 34  34    0.123327891          0.099112958          0.153241640 0.00000000 #> 35  35    0.126715141          0.101874318          0.157374161 0.10000000 #> 36  36    0.130089303          0.104627215          0.161486514 0.30000000 #> 37  37    0.133450428          0.107371673          0.165578798 0.11111111 #> 38  38    0.136798566          0.110107720          0.169651109 0.25000000 #> 39  39    0.140133768          0.112835380          0.173703545 0.00000000 #> 40  40    0.143456083          0.115554679          0.177736205 0.22222222 #> 41  41    0.146765562          0.118265643          0.181749183 0.50000000 #> 42  42    0.150062254          0.120968298          0.185742576 0.00000000 #> 43  43    0.153346209          0.123662668          0.189716480 0.33333333 #> 44  44    0.156617474          0.126348780          0.193670989 1.00000000 #> 45  45    0.159876101          0.129026659          0.197606199 0.00000000 #> 46  46    0.163122137          0.131696329          0.201522204 0.66666667 #> 47  47    0.166355631          0.134357816          0.205419097         NA #> 48  48    0.169576631          0.137011146          0.209296971 1.00000000 #> 49  49    0.172785187          0.139656343          0.213155920 0.66666667 #> 50  50    0.175981345          0.142293431          0.216996036 0.00000000 #> 51  51    0.179165154          0.144922437          0.220817410 1.00000000 #> 52  52    0.182336662          0.147543384          0.224620135 0.50000000 #> 53  53    0.185495916          0.150156298          0.228404301 0.00000000 #> 54  54    0.188642963          0.152761203          0.232169998 0.33333333 #> 55  55    0.191777851          0.155358123          0.235917318 0.50000000 #> 56  56    0.194900626          0.157947083          0.239646348 0.00000000 #> 57  57    0.198011336          0.160528108          0.243357180 0.75000000 #> 58  58    0.201110026          0.163101222          0.247049902 0.66666667 #> 59  59    0.204196744          0.165666448          0.250724601 0.00000000 #> 60  60    0.207271536          0.168223812          0.254381366 0.09090909 #> 61  61    0.210334447          0.170773337          0.258020285 0.00000000 #> 62  62    0.213385524          0.173315047          0.261641445 1.00000000 #> 63  63    0.216424813          0.175848967          0.265244932 0.50000000 #> 64  64    0.219452358          0.178375119          0.268830832 0.60000000 #> 65  65    0.222468206          0.180893529          0.272399232 0.25000000 #> 66  66    0.225472401          0.183404219          0.275950216 1.00000000 #> 67  67    0.228464989          0.185907214          0.279483871 1.00000000 #> 68  68    0.231446014          0.188402536          0.283000279 0.00000000 #> 69  69    0.234415521          0.190890210          0.286499526 0.40000000 #> 70  70    0.237373554          0.193370259          0.289981696 0.66666667 #> 71  71    0.240320159          0.195842706          0.293446871 1.00000000 #> 72  72    0.243255378          0.198307575          0.296895134 1.00000000 #> 73  73    0.246179257          0.200764888          0.300326569         NA #> 74  74    0.249091838          0.203214670          0.303741257         NA #> 75  75    0.251993166          0.205656942          0.307139280         NA #> 76  76    0.254883284          0.208091729          0.310520719         NA #> 77  77    0.257762235          0.210519052          0.313885655 1.00000000 #>    prev_obs_lower prev_obs_upper total counts     survey #> 1    0.0000000000     0.10281792    34      0 COL-035-93 #> 2    0.0000000000     0.13718517    25      0 COL-035-93 #> 3    0.0007231044     0.14917208    35      1 COL-035-93 #> 4    0.0000000000     0.11944487    29      0 COL-035-93 #> 5    0.0000000000     0.09739376    36      0 COL-035-93 #> 6    0.0000000000     0.14818513    23      0 COL-035-93 #> 7    0.0000000000     0.10281792    34      0 COL-035-93 #> 8    0.0000000000     0.18530197    18      0 COL-035-93 #> 9    0.0000000000     0.16109762    21      0 COL-035-93 #> 10   0.0000000000     0.14247360    24      0 COL-035-93 #> 11   0.0019456285     0.36029744    13      1 COL-035-93 #> 12   0.0000000000     0.12343612    28      0 COL-035-93 #> 13   0.0000000000     0.21801936    15      0 COL-035-93 #> 14   0.0000000000     0.13718517    25      0 COL-035-93 #> 15   0.0000000000     0.24705264    13      0 COL-035-93 #> 16   0.0000000000     0.20590721    16      0 COL-035-93 #> 17   0.0000000000     0.26464847    12      0 COL-035-93 #> 18   0.0000000000     0.18530197    18      0 COL-035-93 #> 19   0.0000000000     0.33626712     9      0 COL-035-93 #> 20   0.0000000000     0.36941665     8      0 COL-035-93 #> 21   0.0000000000     0.60236464     4      0 COL-035-93 #> 22   0.0000000000     0.17646691    19      0 COL-035-93 #> 23   0.0000000000     0.21801936    15      0 COL-035-93 #> 24   0.0000000000     0.23163576    14      0 COL-035-93 #> 25   0.0000000000     0.16843347    20      0 COL-035-93 #> 26   0.0022989722     0.41277992    11      1 COL-035-93 #> 27   0.0031597235     0.52650967     8      1 COL-035-93 #> 28   0.0000000000     0.33626712     9      0 COL-035-93 #> 29   0.0000000000     0.33626712     9      0 COL-035-93 #> 30   0.0025285785     0.44501612    10      1 COL-035-93 #> 31   0.0025285785     0.44501612    10      1 COL-035-93 #> 32   0.0000000000     0.28491415    11      0 COL-035-93 #> 33   0.0022989722     0.41277992    11      1 COL-035-93 #> 34   0.0000000000     0.36941665     8      0 COL-035-93 #> 35   0.0025285785     0.44501612    10      1 COL-035-93 #> 36   0.0667395112     0.65245285    10      3 COL-035-93 #> 37   0.0028091367     0.48249651     9      1 COL-035-93 #> 38   0.0063094632     0.80587955     4      1 COL-035-93 #> 39   0.0000000000     0.60236464     4      0 COL-035-93 #> 40   0.0281449735     0.60009357     9      2 COL-035-93 #> 41   0.0675859865     0.93241401     4      2 COL-035-93 #> 42   0.0000000000     0.36941665     8      0 COL-035-93 #> 43   0.0084037587     0.90570068     3      1 COL-035-93 #> 44   0.0250000000     1.00000000     1      1 COL-035-93 #> 45   0.0000000000     0.70759823     3      0 COL-035-93 #> 46   0.0942993241     0.99159624     3      2 COL-035-93 #> 47             NA             NA    NA     NA COL-035-93 #> 48   0.1581138830     1.00000000     2      2 COL-035-93 #> 49   0.0942993241     0.99159624     3      2 COL-035-93 #> 50   0.0000000000     0.70759823     3      0 COL-035-93 #> 51   0.0250000000     1.00000000     1      1 COL-035-93 #> 52   0.1181172488     0.88188275     6      3 COL-035-93 #> 53   0.0000000000     0.60236464     4      0 COL-035-93 #> 54   0.0084037587     0.90570068     3      1 COL-035-93 #> 55   0.1181172488     0.88188275     6      3 COL-035-93 #> 56   0.0000000000     0.97500000     1      0 COL-035-93 #> 57   0.1941204497     0.99369054     4      3 COL-035-93 #> 58   0.0942993241     0.99159624     3      2 COL-035-93 #> 59   0.0000000000     0.97500000     1      0 COL-035-93 #> 60   0.0022989722     0.41277992    11      1 COL-035-93 #> 61   0.0000000000     0.52182375     5      0 COL-035-93 #> 62   0.0250000000     1.00000000     1      1 COL-035-93 #> 63   0.0125791171     0.98742088     2      1 COL-035-93 #> 64   0.1466327996     0.94725505     5      3 COL-035-93 #> 65   0.0318540262     0.65085579     8      2 COL-035-93 #> 66   0.0250000000     1.00000000     1      1 COL-035-93 #> 67   0.0250000000     1.00000000     1      1 COL-035-93 #> 68   0.0000000000     0.84188612     2      0 COL-035-93 #> 69   0.0527449505     0.85336720     5      2 COL-035-93 #> 70   0.0942993241     0.99159624     3      2 COL-035-93 #> 71   0.0250000000     1.00000000     1      1 COL-035-93 #> 72   0.0250000000     1.00000000     1      1 COL-035-93 #> 73             NA             NA    NA     NA COL-035-93 #> 74             NA             NA    NA     NA COL-035-93 #> 75             NA             NA    NA     NA COL-035-93 #> 76             NA             NA    NA     NA COL-035-93 #> 77   0.0250000000     1.00000000     1      1 COL-035-93"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_n_seropositive.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate sample of counts of seropositive individuals by sampling from a binomial distribution — get_sim_n_seropositive","title":"Generate sample of counts of seropositive individuals by sampling from a binomial distribution — get_sim_n_seropositive","text":"Generate sample counts seropositive individuals sampling binomial distribution","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_n_seropositive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate sample of counts of seropositive individuals by sampling from a binomial distribution — get_sim_n_seropositive","text":"","code":"get_sim_n_seropositive(   sim_data,   foi,   sample_size_by_age,   mu = 0,   model_type = \"time-varying\",   seed = 1234 )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_n_seropositive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate sample of counts of seropositive individuals by sampling from a binomial distribution — get_sim_n_seropositive","text":"sim_data dataframe object containing following columns: age Age group markers tsur Year survey foi Numeric atomic vector corresponding desired time-varying age-varying Force--Infection simulate sample_size_by_age Integer indicating sample size age group. corresponds number trials size rbinom. mu Seroreversion rate model_type String specifying type model used. Current valid options 'time-varying' 'age-varying' seed Seed random number generation.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_n_seropositive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate sample of counts of seropositive individuals by sampling from a binomial distribution — get_sim_n_seropositive","text":"dataframe containing following columns: age Age time survey n_seropositive Number positive cases sampled according provided FoI simulated list counts following binomial distribution accordance given force infection age group sizes.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_n_seropositive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate sample of counts of seropositive individuals by sampling from a binomial distribution — get_sim_n_seropositive","text":"","code":"n_years <- 50 sim_data <- data.frame(   age = seq(1,n_years),   tsur = 2050 ) foi <- rep(0.02, n_years) sample_size_by_age <- as.integer(runif(n = n_years, 5, 10)) sim_n_seropositive <- get_sim_n_seropositive(   sim_data = sim_data,   foi = foi,   sample_size_by_age = sample_size_by_age )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_probability.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate probabilities of being previously exposed to a pathogen given a historical force-of-infection. — get_sim_probability","title":"Generate probabilities of being previously exposed to a pathogen given a historical force-of-infection. — get_sim_probability","text":"Generate probabilities previously exposed pathogen given historical force--infection.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_probability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate probabilities of being previously exposed to a pathogen given a historical force-of-infection. — get_sim_probability","text":"","code":"get_sim_probability(sim_data, foi, mu = 0, model_type = \"time-varying\")"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_probability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate probabilities of being previously exposed to a pathogen given a historical force-of-infection. — get_sim_probability","text":"sim_data dataframe object containing following columns: age Age group markers tsur Year survey foi Numeric atomic vector corresponding desired time-varying age-varying Force--Infection simulate mu Seroreversion rate model_type String specifying type model used. Current valid options 'time-varying' 'age-varying'","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_probability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate probabilities of being previously exposed to a pathogen given a historical force-of-infection. — get_sim_probability","text":"dataframe containing following columns: age Exposure ages probability Probability obtain seropositive case age according provided FoI","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_sim_probability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate probabilities of being previously exposed to a pathogen given a historical force-of-infection. — get_sim_probability","text":"","code":"n_years <- 50 sim_data <- data.frame(   age = seq(1,n_years),   tsur = 2050 ) foi <- rep(0.02, n_years) sim_probability <- get_sim_probability(sim_data = sim_data, foi=foi)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_table_rhats.html","id":null,"dir":"Reference","previous_headings":"","what":"Build dataframe containing the R-hat estimates for a given serological model — get_table_rhats","title":"Build dataframe containing the R-hat estimates for a given serological model — get_table_rhats","text":"function relies rhat extract R-hat estimates serological model object seromodel_object returns table dataframe estimates year birth.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_table_rhats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build dataframe containing the R-hat estimates for a given serological model — get_table_rhats","text":"","code":"get_table_rhats(seromodel_object, cohort_ages)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_table_rhats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build dataframe containing the R-hat estimates for a given serological model — get_table_rhats","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. cohort_ages data frame containing age cohort corresponding birth year.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_table_rhats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build dataframe containing the R-hat estimates for a given serological model — get_table_rhats","text":"rhats table","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/get_table_rhats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build dataframe containing the R-hat estimates for a given serological model — get_table_rhats","text":"","code":"data(chagas2012) serodata <- prepare_serodata(serodata = chagas2012) model_constant <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\",   iter = 1500 ) cohort_ages <- get_cohort_ages(serodata) get_table_rhats(   seromodel_object = model_constant,   cohort_ages = cohort_ages ) #>         year     rhat #> foi[1]  1935 1.001341 #> foi[2]  1936 1.001341 #> foi[3]  1937 1.001341 #> foi[4]  1938 1.001341 #> foi[5]  1939 1.001341 #> foi[6]  1940 1.001341 #> foi[7]  1941 1.001341 #> foi[8]  1942 1.001341 #> foi[9]  1943 1.001341 #> foi[10] 1944 1.001341 #> foi[11] 1945 1.001341 #> foi[12] 1946 1.001341 #> foi[13] 1947 1.001341 #> foi[14] 1948 1.001341 #> foi[15] 1949 1.001341 #> foi[16] 1950 1.001341 #> foi[17] 1951 1.001341 #> foi[18] 1952 1.001341 #> foi[19] 1953 1.001341 #> foi[20] 1954 1.001341 #> foi[21] 1955 1.001341 #> foi[22] 1956 1.001341 #> foi[23] 1957 1.001341 #> foi[24] 1958 1.001341 #> foi[25] 1959 1.001341 #> foi[26] 1960 1.001341 #> foi[27] 1961 1.001341 #> foi[28] 1962 1.001341 #> foi[29] 1963 1.001341 #> foi[30] 1964 1.001341 #> foi[31] 1965 1.001341 #> foi[32] 1966 1.001341 #> foi[33] 1967 1.001341 #> foi[34] 1968 1.001341 #> foi[35] 1969 1.001341 #> foi[36] 1970 1.001341 #> foi[37] 1971 1.001341 #> foi[38] 1972 1.001341 #> foi[39] 1973 1.001341 #> foi[40] 1974 1.001341 #> foi[41] 1975 1.001341 #> foi[42] 1976 1.001341 #> foi[43] 1977 1.001341 #> foi[44] 1978 1.001341 #> foi[45] 1979 1.001341 #> foi[46] 1980 1.001341 #> foi[47] 1981 1.001341 #> foi[48] 1982 1.001341 #> foi[49] 1983 1.001341 #> foi[50] 1984 1.001341 #> foi[51] 1985 1.001341 #> foi[52] 1986 1.001341 #> foi[53] 1987 1.001341 #> foi[54] 1988 1.001341 #> foi[55] 1989 1.001341 #> foi[56] 1990 1.001341 #> foi[57] 1991 1.001341 #> foi[58] 1992 1.001341 #> foi[59] 1993 1.001341 #> foi[60] 1994 1.001341 #> foi[61] 1995 1.001341 #> foi[62] 1996 1.001341 #> foi[63] 1997 1.001341 #> foi[64] 1998 1.001341 #> foi[65] 1999 1.001341 #> foi[66] 2000 1.001341 #> foi[67] 2001 1.001341 #> foi[68] 2002 1.001341 #> foi[69] 2003 1.001341 #> foi[70] 2004 1.001341 #> foi[71] 2005 1.001341 #> foi[72] 2006 1.001341 #> foi[73] 2007 1.001341 #> foi[74] 2008 1.001341 #> foi[75] 2009 1.001341 #> foi[76] 2010 1.001341 #> foi[77] 2011 1.001341"},{"path":"https://epiverse-trace.github.io/serofoi/reference/group_sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Group simulated serological dataset by age — group_sim_data","title":"Group simulated serological dataset by age — group_sim_data","text":"Group simulated serological dataset age","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/group_sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Group simulated serological dataset by age — group_sim_data","text":"","code":"group_sim_data(sim_data, col_age = \"age\", step = 5)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/group_sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Group simulated serological dataset by age — group_sim_data","text":"sim_data Dataframe structure output generate_sim_data(). col_age name column containing age information step step used split age interval","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/group_sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Group simulated serological dataset by age — group_sim_data","text":"Dataframe object containing grouped simulated data generated foi","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_foi.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate force-of-infection plot corresponding to the specified fitted serological model — plot_foi","title":"Generate force-of-infection plot corresponding to the specified fitted serological model — plot_foi","text":"function generates force--infection plot results obtained fitting serological model. includes corresponding binomial confidence interval. x axis corresponds decades covered survey y axis force--infection.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_foi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate force-of-infection plot corresponding to the specified fitted serological model — plot_foi","text":"","code":"plot_foi(   seromodel_object,   cohort_ages,   max_lambda = NA,   size_text = 25,   foi_sim = NULL )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_foi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate force-of-infection plot corresponding to the specified fitted serological model — plot_foi","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. cohort_ages data frame containing age cohort corresponding birth year. max_lambda TBD size_text Text size use theme graph returned function. foi_sim TBD","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_foi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate force-of-infection plot corresponding to the specified fitted serological model — plot_foi","text":"ggplot2 object containing force--infection vs time including corresponding confidence interval.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_foi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate force-of-infection plot corresponding to the specified fitted serological model — plot_foi","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\",   iter = 1000 ) cohort_ages <- get_cohort_ages(serodata) plot_foi(   seromodel_object = seromodel_object,   cohort_ages = cohort_ages,   size_text = 15 )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_info_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate plot summarizing a given table — plot_info_table","title":"Generate plot summarizing a given table — plot_info_table","text":"Generate plot summarizing given table","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_info_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate plot summarizing a given table — plot_info_table","text":"","code":"plot_info_table(info_table, size_text)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_info_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate plot summarizing a given table — plot_info_table","text":"info_table Table information summarised size_text Text size graph returned function","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_info_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate plot summarizing a given table — plot_info_table","text":"ggplot object summarizing information info_table","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_info_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate plot summarizing a given table — plot_info_table","text":"","code":"serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\",   iter = 1000 ) seromodel_summary <- extract_seromodel_summary(   seromodel_object = seromodel_object,   serodata = serodata ) info_table <- t(seromodel_summary) plot_info_table(info_table, size_text = 15)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_rhats.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate plot of the R-hat estimates for the specified fitted serological model — plot_rhats","title":"Generate plot of the R-hat estimates for the specified fitted serological model — plot_rhats","text":"function generates plot R-hat estimates obtained specified fitted serological model seromodel_object. x axis corresponds decades covered survey y axis value rhats. rhats must smaller 1 ensure convergence (details check rhat).","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_rhats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate plot of the R-hat estimates for the specified fitted serological model — plot_rhats","text":"","code":"plot_rhats(seromodel_object, cohort_ages, size_text = 25)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_rhats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate plot of the R-hat estimates for the specified fitted serological model — plot_rhats","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. cohort_ages data frame containing age cohort corresponding birth year. size_text Text size use theme graph returned function.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_rhats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate plot of the R-hat estimates for the specified fitted serological model — plot_rhats","text":"rhats-convergence plot selected model.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_rhats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate plot of the R-hat estimates for the specified fitted serological model — plot_rhats","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\",   iter = 1000 ) cohort_ages <- get_cohort_ages(serodata = serodata) plot_rhats(seromodel_object,   cohort_ages = cohort_ages,   size_text = 15 )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seromodel.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate vertical arrangement of plots showing a summary of a model, the estimated seroprevalence, the force-of-infection fit and the R-hat estimates plots. — plot_seromodel","title":"Generate vertical arrangement of plots showing a summary of a model, the estimated seroprevalence, the force-of-infection fit and the R-hat estimates plots. — plot_seromodel","text":"Generate vertical arrangement plots showing summary model, estimated seroprevalence, force--infection fit R-hat estimates plots.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seromodel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate vertical arrangement of plots showing a summary of a model, the estimated seroprevalence, the force-of-infection fit and the R-hat estimates plots. — plot_seromodel","text":"","code":"plot_seromodel(   seromodel_object,   serodata,   alpha = 0.05,   max_lambda = NA,   size_text = 25,   bin_data = TRUE,   bin_step = 5,   foi_sim = NULL )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seromodel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate vertical arrangement of plots showing a summary of a model, the estimated seroprevalence, the force-of-infection fit and the R-hat estimates plots. — plot_seromodel","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata(). alpha Probability threshold statistical significance used binomial confidence interval, lower upper quantiles estimated prevalence. max_lambda TBD size_text Text size use theme graph returned function. bin_data TRUE, serodata binned means prepare_bin_data. Otherwise, age groups kept originally input. bin_step Integer specifying age groups bin size used bin_data set TRUE. foi_sim TBD","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seromodel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate vertical arrangement of plots showing a summary of a model, the estimated seroprevalence, the force-of-infection fit and the R-hat estimates plots. — plot_seromodel","text":"ggplot object vertical arrange containing seropositivity, force infection, convergence plots.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seromodel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate vertical arrangement of plots showing a summary of a model, the estimated seroprevalence, the force-of-infection fit and the R-hat estimates plots. — plot_seromodel","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\",   iter = 1000 ) plot_seromodel(seromodel_object,   serodata = serodata,   size_text = 15 ) #> Warning: (age_min - age_max) is not an integer multiple of step. #>     The last age interval will be truncated to (75,77] #> Warning: Removed 61 rows containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate seropositivity plot from a raw serological survey dataset — plot_seroprev","title":"Generate seropositivity plot from a raw serological survey dataset — plot_seroprev","text":"Generate seropositivity plot raw serological survey dataset","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate seropositivity plot from a raw serological survey dataset — plot_seroprev","text":"","code":"plot_seroprev(serodata, size_text = 6, bin_data = TRUE, bin_step = 5)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate seropositivity plot from a raw serological survey dataset — plot_seroprev","text":"serodata data frame containing data serological survey. data frame must contain following columns: survey survey Label current survey total Number samples age group counts Number positive samples age group age_min age_min age_max age_max tsur Year survey took place country country survey took place test type test taken antibody antibody Alternatively age_min age_max, dataset already include age group marker age_mean_f, representing middle point age_min age_max. afe_mean_f missing, generated function. size_text Text size use theme graph returned function. bin_data TRUE, serodata binned means prepare_bin_data. Otherwise, age groups kept originally input. bin_step Integer specifying age groups bin size used bin_data set TRUE.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate seropositivity plot from a raw serological survey dataset — plot_seroprev","text":"ggplot object containing seropositivity-vs-age graph raw data given seroprevalence survey corresponding binomial confidence interval.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate seropositivity plot from a raw serological survey dataset — plot_seroprev","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) plot_seroprev(serodata, size_text = 15) #> Warning: (age_min - age_max) is not an integer multiple of step. #>     The last age interval will be truncated to (75,77]"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev_fitted.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate seropositivity plot corresponding to the specified fitted serological model — plot_seroprev_fitted","title":"Generate seropositivity plot corresponding to the specified fitted serological model — plot_seroprev_fitted","text":"function generates seropositivity plot specified serological model object. includes original data grouped age well obtained fitting model implementation. Age located x axis seropositivity y axis corresponding confidence interval.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev_fitted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate seropositivity plot corresponding to the specified fitted serological model — plot_seroprev_fitted","text":"","code":"plot_seroprev_fitted(   seromodel_object,   serodata,   size_text = 6,   bin_data = TRUE,   bin_step = 5,   alpha = 0.05 )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev_fitted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate seropositivity plot corresponding to the specified fitted serological model — plot_seroprev_fitted","text":"seromodel_object Stanfit object containing results fitting model means run_seromodel. serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata(). size_text Text size graph returned function. bin_data TRUE, serodata binned means prepare_bin_data. Otherwise, age groups kept originally input. bin_step Integer specifying age groups bin size used bin_data set TRUE. alpha Probability threshold statistical significance used binomial confidence interval, lower upper quantiles estimated prevalence.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev_fitted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate seropositivity plot corresponding to the specified fitted serological model — plot_seroprev_fitted","text":"ggplot object containing seropositivity-vs-age graph including data, fitted model corresponding confidence intervals.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/plot_seroprev_fitted.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate seropositivity plot corresponding to the specified fitted serological model — plot_seroprev_fitted","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel_object <- fit_seromodel(   serodata = serodata,   foi_model = \"constant\",   iter = 1000 ) plot_seroprev_fitted(seromodel_object,   serodata = serodata,   size_text = 15 ) #> Warning: (age_min - age_max) is not an integer multiple of step. #>     The last age interval will be truncated to (75,77] #> Warning: Removed 61 rows containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"https://epiverse-trace.github.io/serofoi/reference/prepare_serodata.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare data from a serological survey for modelling — prepare_serodata","title":"Prepare data from a serological survey for modelling — prepare_serodata","text":"function adds necessary additional variables given dataset serodata corresponding serological survey.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/prepare_serodata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare data from a serological survey for modelling — prepare_serodata","text":"","code":"prepare_serodata(serodata = serodata, alpha = 0.05)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/prepare_serodata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare data from a serological survey for modelling — prepare_serodata","text":"serodata data frame containing data serological survey. data frame must contain following columns: survey survey Label current survey total Number samples age group counts Number positive samples age group age_min age_min age_max age_max tsur Year survey took place country country survey took place test type test taken antibody antibody Alternatively age_min age_max, dataset already include age group marker age_mean_f, representing middle point age_min age_max. afe_mean_f missing, generated function. alpha probability type error. details refer binconf.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/prepare_serodata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare data from a serological survey for modelling — prepare_serodata","text":"serodata additional columns necessary analysis. columns : age_mean_f Floor value average age_min age_max age groups delimited age_min age_max sample_size size sample birth_year Years subject born according age group marker age_mean_f prev_obs Observed prevalence prev_obs_lower Lower limit confidence interval observed prevalence prev_obs_upper Upper limit confidence interval observed prevalence","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/prepare_serodata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare data from a serological survey for modelling — prepare_serodata","text":"","code":"data(chagas2012) serodata <- prepare_serodata(chagas2012)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_age_varying.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_age_varying","title":"Returns the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_age_varying","text":"Returns probability seropositive age-varying force--infection including seroreversion","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_age_varying.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_age_varying","text":"","code":"probability_exact_age_varying(age, foi, mu = 0)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_age_varying.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_age_varying","text":"age Integer corresponding age exposed cohort foi Numeric atomic vector corresponding age-varying FoI simulate mu Seroreversion rate","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_age_varying.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_age_varying","text":"probability seropositive age-varying FoI including seroreversion","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_time_varying.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_time_varying","title":"Computes the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_time_varying","text":"Computes probability seropositive age-varying force--infection including seroreversion","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_time_varying.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_time_varying","text":"","code":"probability_exact_time_varying(ages, foi, mu = 0)"},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_time_varying.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_time_varying","text":"ages Integer indicating ages exposed cohorts foi Numeric atomic vector corresponding age-varying force--infection simulate mu Seroreversion rate","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/probability_exact_time_varying.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes the probability of being seropositive for age-varying force-of-infection including seroreversion — probability_exact_time_varying","text":"probability seropositive age-varying FoI including seroreversion","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/run_seromodel.html","id":null,"dir":"Reference","previous_headings":"","what":"Run specified stan model for the force-of-infection and estimate the seroprevalence based on the result of the fit — run_seromodel","title":"Run specified stan model for the force-of-infection and estimate the seroprevalence based on the result of the fit — run_seromodel","text":"Starting v.0.1.0, function DEPRECATED. Use fit_seromodel instead. function runs specified model force--infection foi_model using data seroprevalence survey serodata input data. See fit_seromodel details.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/run_seromodel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run specified stan model for the force-of-infection and estimate the seroprevalence based on the result of the fit — run_seromodel","text":"","code":"run_seromodel(   serodata,   foi_model = c(\"constant\", \"tv_normal_log\", \"tv_normal\"),   foi_location = 0,   foi_scale = 1,   chunk_size = 1,   chunks = NULL,   iter = 1000,   adapt_delta = 0.9,   max_treedepth = 10,   seed = 12345,   print_summary = TRUE,   ... )"},{"path":"https://epiverse-trace.github.io/serofoi/reference/run_seromodel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run specified stan model for the force-of-infection and estimate the seroprevalence based on the result of the fit — run_seromodel","text":"serodata data frame containing data seroprevalence survey. data frame must contain least following columns: total Number samples age group counts Number positive samples age group tsur Year survey took place age_mean_f Floor value average age_min age_max sample_size size sample birth_year year individuals age group born last six columns can added serodata means function prepare_serodata(). foi_model Name selected model. Current version provides three options: \"constant\" Runs constant model \"tv_normal\" Runs normal model \"tv_normal_log\" Runs normal logarithmic model foi_location Location parameter force--infection distribution selected model. Depending foi_model, meaning may vary. foi_scale Scale parameter force--infection distribution selected model. Depending foi_model, meaning may vary. chunk_size Size chunks used case chunk structure chunks specified fit_seromodel. Default 1, meaning one force infection value estimated every year time interval spanned serosurvey. length time interval exactly divisible chunk_size, remainder years included last chunk. chunks Numeric list specifying chunk structure time interval birth year oldest age cohort min(serodata$age_mean_f) time serosurvey conducted t_sur. NULL, time interval divided chunks size chunk_size. iter Number interactions chain including warmup. iter sampling. adapt_delta Real number 0 1 represents target average acceptance probability. Increasing value adapt_delta result smaller step size fewer divergences. details refer control parameter sampling . max_treedepth Maximum tree depth binary tree used NUTS stan sampler. details refer control parameter sampling. seed details refer seed parameter sampling. print_summary Boolean. TRUE, table summarizing modelling results printed. ... Additional parameters sampling.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/run_seromodel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run specified stan model for the force-of-infection and estimate the seroprevalence based on the result of the fit — run_seromodel","text":"seromodel_object. object containing relevant information implementation model. details refer fit_seromodel.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/run_seromodel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run specified stan model for the force-of-infection and estimate the seroprevalence based on the result of the fit — run_seromodel","text":"","code":"if (FALSE) { # \\dontrun{ data(chagas2012) serodata <- prepare_serodata(chagas2012) run_seromodel(   serodata,   foi_model = \"constant\" ) } # }"},{"path":"https://epiverse-trace.github.io/serofoi/reference/serofoi-package.html","id":null,"dir":"Reference","previous_headings":"","what":"The 'serofoi' package. — serofoi-package","title":"The 'serofoi' package. — serofoi-package","text":"DESCRIPTION PACKAGE","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/serofoi-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"The 'serofoi' package. — serofoi-package","text":"Stan Development Team (NA). RStan: R interface Stan. R package version 2.26.22. https://mc-stan.org","code":""},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/reference/serofoi-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"The 'serofoi' package. — serofoi-package","text":"Maintainer: Zulma M. Cucunubá zulma.cucunuba@javeriana.edu.co (ORCID) Authors: Nicolás T. Domínguez ex-ntorres@javeriana.edu.co (ORCID) Ben Lambert Pierre Nouvellet","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_constant.html","id":null,"dir":"Reference","previous_headings":"","what":"Constant force-of-infection simulated serosurvey — simdata_constant","title":"Constant force-of-infection simulated serosurvey — simdata_constant","text":"Simulated dataset describing endemic situation force--infection constant period 50 years (2000-2050) value 0.2. hypothetical serosurvey conducted year 2050 250 individuals 50 years old.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_constant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Constant force-of-infection simulated serosurvey — simdata_constant","text":"","code":"simdata_constant"},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_constant.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Constant force-of-infection simulated serosurvey — simdata_constant","text":"object class \"cross\"; see qtl::read.cross().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_constant.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Constant force-of-infection simulated serosurvey — simdata_constant","text":"","code":"simdata_constant #>              survey total counts age_min age_max tsur country      test #> 1  simdata_constant    20      0       2       2 2050    None simulated #> 2  simdata_constant    25      3       7       7 2050    None simulated #> 3  simdata_constant    25      2      12      12 2050    None simulated #> 4  simdata_constant    25     12      17      17 2050    None simulated #> 5  simdata_constant    25      6      22      22 2050    None simulated #> 6  simdata_constant    25     11      27      27 2050    None simulated #> 7  simdata_constant    25     10      32      32 2050    None simulated #> 8  simdata_constant    25     10      37      37 2050    None simulated #> 9  simdata_constant    25     18      42      42 2050    None simulated #> 10 simdata_constant    30     17      47      47 2050    None simulated #>    antibody #> 1       IgG #> 2       IgG #> 3       IgG #> 4       IgG #> 5       IgG #> 6       IgG #> 7       IgG #> 8       IgG #> 9       IgG #> 10      IgG"},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_large_epi.html","id":null,"dir":"Reference","previous_headings":"","what":"Large epidemic simulated serosurvey — simdata_large_epi","title":"Large epidemic simulated serosurvey — simdata_large_epi","text":"Simulated dataset describing large epidemic years 2032 2035 constant force--infection value 1.5. hypothetical serosurvey conducted year 2050 250 individuals 50 years old.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_large_epi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Large epidemic simulated serosurvey — simdata_large_epi","text":"","code":"simdata_large_epi"},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_large_epi.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Large epidemic simulated serosurvey — simdata_large_epi","text":"object class \"cross\"; see qtl::read.cross().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_large_epi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Large epidemic simulated serosurvey — simdata_large_epi","text":"","code":"simdata_large_epi #>               survey total counts age_min age_max tsur country      test #> 1  simdata_large_epi    20      0       2       2 2050    None simulated #> 2  simdata_large_epi    25      0       7       7 2050    None simulated #> 3  simdata_large_epi    25      0      12      12 2050    None simulated #> 4  simdata_large_epi    25     19      17      17 2050    None simulated #> 5  simdata_large_epi    25     25      22      22 2050    None simulated #> 6  simdata_large_epi    25     25      27      27 2050    None simulated #> 7  simdata_large_epi    25     24      32      32 2050    None simulated #> 8  simdata_large_epi    25     24      37      37 2050    None simulated #> 9  simdata_large_epi    25     25      42      42 2050    None simulated #> 10 simdata_large_epi    30     29      47      47 2050    None simulated #>    antibody #> 1       IgG #> 2       IgG #> 3       IgG #> 4       IgG #> 5       IgG #> 6       IgG #> 7       IgG #> 8       IgG #> 9       IgG #> 10      IgG"},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_sw_dec.html","id":null,"dir":"Reference","previous_headings":"","what":"Step-wise decreasing force-of-infection simulated serosurvey — simdata_sw_dec","title":"Step-wise decreasing force-of-infection simulated serosurvey — simdata_sw_dec","text":"Simulated dataset describing situation force--infection follows step-wise decreasing tendency period 50 years (2000-2050) hypothetical serosurvey conducted year 2050 250 individuals 50 years old.","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_sw_dec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Step-wise decreasing force-of-infection simulated serosurvey — simdata_sw_dec","text":"","code":"simdata_sw_dec"},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_sw_dec.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Step-wise decreasing force-of-infection simulated serosurvey — simdata_sw_dec","text":"object class \"cross\"; see qtl::read.cross().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/simdata_sw_dec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Step-wise decreasing force-of-infection simulated serosurvey — simdata_sw_dec","text":"","code":"simdata_sw_dec #>            survey total counts age_min age_max tsur country      test antibody #> 1  simdata_sw_dec    20      0       2       2 2050    None simulated      IgG #> 2  simdata_sw_dec    25      0       7       7 2050    None simulated      IgG #> 3  simdata_sw_dec    25      0      12      12 2050    None simulated      IgG #> 4  simdata_sw_dec    25      7      17      17 2050    None simulated      IgG #> 5  simdata_sw_dec    25     11      22      22 2050    None simulated      IgG #> 6  simdata_sw_dec    25     20      27      27 2050    None simulated      IgG #> 7  simdata_sw_dec    25     23      32      32 2050    None simulated      IgG #> 8  simdata_sw_dec    25     23      37      37 2050    None simulated      IgG #> 9  simdata_sw_dec    25     25      42      42 2050    None simulated      IgG #> 10 simdata_sw_dec    30     30      47      47 2050    None simulated      IgG"},{"path":"https://epiverse-trace.github.io/serofoi/reference/veev2012.html","id":null,"dir":"Reference","previous_headings":"","what":"Seroprevalence data on serofoi — veev2012","title":"Seroprevalence data on serofoi — veev2012","text":"Data serological surveys","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/veev2012.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Seroprevalence data on serofoi — veev2012","text":"","code":"veev2012"},{"path":"https://epiverse-trace.github.io/serofoi/reference/veev2012.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Seroprevalence data on serofoi — veev2012","text":"object class \"cross\"; see qtl::read.cross().","code":""},{"path":"https://epiverse-trace.github.io/serofoi/reference/veev2012.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Seroprevalence data on serofoi — veev2012","text":"","code":"veev2012 #>           survey total counts age_min age_max tsur country  test      antibody #> 12 PAN-2012-VEEV    20     14       1      10 2012     PAN ELISA IgG anti-VEEV #> 13 PAN-2012-VEEV    22     16      11      20 2012     PAN ELISA IgG anti-VEEV #> 14 PAN-2012-VEEV    13     12      21      30 2012     PAN ELISA IgG anti-VEEV #> 15 PAN-2012-VEEV     3      3      31      40 2012     PAN ELISA IgG anti-VEEV #> 16 PAN-2012-VEEV     5      5      41      50 2012     PAN ELISA IgG anti-VEEV #> 17 PAN-2012-VEEV    10      7      51      60 2012     PAN ELISA IgG anti-VEEV"},{"path":[]},{"path":"https://epiverse-trace.github.io/serofoi/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"serofoi 0.1.0","text":"Data simulation functions time-varying age-varying force infection trends. following example simulate constant (time) force infection: generate grouped serosurveys function group_sim_data can used:","code":"foi_sim_constant <- rep(0.02, 50)  serodata_constant <- generate_sim_data(   sim_data = data.frame(     age = seq(1, 50),     tsur = 2050),   foi = foi_sim_constant,   sample_size_by_age = 5 ) serodata_constant <- group_sim_data(serodata_constant, step = 5)"},{"path":"https://epiverse-trace.github.io/serofoi/news/index.html","id":"breaking-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"serofoi 0.1.0","text":"Simplifies fit_seromodel output , output fit_seromodel list: Now, output stan_fit object obtained rstan::sampling. , plotting functionalities now require serodata input. Initial prior distribution parameters foi_location foi_scale can specified explicitly fit_seromodel: Depending selected model foi_model, meaning parameters change. tv_normal_log model parameters must logarithmic scale; recommended usage : , models estimated one value force infection per year time spanned serosurvey: Now, amount force infection values estimated models depend specified chunk structure. can either specified size: explicitly: Deprecate run_seromodel. Initially function intended handler fit_seromodel cases user may need implement model multiple independent serosurveys; now plan showcase examples using current functionalities package (added future versions vignettes).","code":"seromodel_object <- list(     fit = fit,     seromodel_fit = seromodel_fit,     serodata = serodata,     serodata = serodata,     stan_data = stan_data,     ...   ) seromodel <- fit_seromodel(   serodata,   foi_model = \"tv_normal\",   foi_location = 0,   foi_scale = 1 ) seromodel <- fit_seromodel(   serodata,   foi_model = \"tv_normal_log\",   foi_location = -6,   foi_scale = 4 ) data(chagas2012) serodata <- prepare_serodata(chagas2012) seromodel <- fit_seromodel(serodata, foi_model = \"tv_normal\") seromodel <- fit_seromodel(serodata, foi_model = \"tv_normal\", chunk_size = 10) chunks <- rep(c(1, 2, 3, 4, 5), c(10, 10, 15, 15, max(serodata$age_mean_f)-50)) seromodel <- fit_seromodel(serodata, foi_model = \"tv_normal\", chunks = chunks)"},{"path":"https://epiverse-trace.github.io/serofoi/news/index.html","id":"minor-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"serofoi 0.1.0","text":"plot_seroprev allows data binning (age group manipulation) means parameters bin_data=TRUE bin_step. Automatic selection ymin ymax aesthetics plotting functions (exception plot_rhats). Correct input validation Remove duplicated data veev2012 dataset","code":""},{"path":"https://epiverse-trace.github.io/serofoi/news/index.html","id":"internal-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Internal changes","title":"serofoi 0.1.0","text":"Remove large files git history (see #77). Added input validation following functions: prepare_serodata generate_sim_data get_age_group fit_seromodel extract_seromodel_summary plot_seroprev plot_seroprev_fitted plot_foi plot_seromodel Unit testing: Separate modelling tests model Use dplyr::near test models statistical validity Add tests data simulation functions Update package template accordance {packagetemplate}","code":""},{"path":"https://epiverse-trace.github.io/serofoi/news/index.html","id":"serofoi-009","dir":"Changelog","previous_headings":"","what":"serofoi 0.0.9","title":"serofoi 0.0.9","text":"release serofoi, includes following: Implementation package modules: Incorporates data preparation, modelling, visualization modules, enable efficient handling data, perform statistical modelling, generate visual representations results. Documentation: consists vignettes, website, uses cases provide detailed instructions use package effectively. Implementation 3 models calculating Force--Infection (FoI): first model constant endemic model, assumes stable FoI time. second third models time-varying, normal FoI model representing slow change FoI normal-log FoI model representing fast epidemic change FoI. Definition coverage test assurance quality package. Overall, release introduces essential package functionality, comprehensive documentation, various FoI models, coverage test, enabling users analyse seroprevalence data calculate Force--infection.","code":""}]
