<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function generates a seropositivity plot of the specified serological
model object. This includes the original data grouped by age as well as the
obtained fitting from the model implementation. Age is located on the x axis
and seropositivity on the y axis with its corresponding confidence interval."><title>Function that generates a seropositivity plot corresponding to the specified
fitted serological model — plot_seroprev_fitted • serofoi</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function that generates a seropositivity plot corresponding to the specified
fitted serological model — plot_seroprev_fitted"><meta property="og:description" content="This function generates a seropositivity plot of the specified serological
model object. This includes the original data grouped by age as well as the
obtained fitting from the model implementation. Age is located on the x axis
and seropositivity on the y axis with its corresponding confidence interval."><meta property="og:image" content="https://epiverse-trace.github.io/serofoi/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="../logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">serofoi</a>

    <small class="nav-text text-muted me-auto version-number" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/serofoi.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/foi_models.html">An introduction to Force-of-Infection (FoI) Models</a>
    <a class="dropdown-item" href="../articles/use_cases.html">Real-life use cases for serofoi</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Function that generates a seropositivity plot corresponding to the specified
fitted serological model</h1>
      
      <div class="d-none name"><code>plot_seroprev_fitted.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates a seropositivity plot of the specified serological
model object. This includes the original data grouped by age as well as the
obtained fitting from the model implementation. Age is located on the x axis
and seropositivity on the y axis with its corresponding confidence interval.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_seroprev_fitted</span><span class="op">(</span><span class="va">seromodel_object</span>, <span class="va">serodata</span>, size_text <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>seromodel_object</dt>
<dd><p>Stanfit object containing the results of fitting a
model by means of <a href="run_seromodel.html">run_seromodel</a>.</p></dd>


<dt>serodata</dt>
<dd><p>A data frame containing the data from a seroprevalence
survey. This data frame must contain the following columns:</p><dl><dt><code>survey</code></dt>
<dd><p>survey Label of the current survey</p></dd>

<dt><code>total</code></dt>
<dd><p>Number of samples for each age group</p></dd>

<dt><code>counts</code></dt>
<dd><p>Number of positive samples for each age group</p></dd>

<dt><code>age_min</code></dt>
<dd><p>age_min</p></dd>

<dt><code>age_max</code></dt>
<dd><p>age_max</p></dd>

<dt><code>tsur</code></dt>
<dd><p>Year in which the survey took place</p></dd>

<dt><code>country</code></dt>
<dd><p>The country where the survey took place</p></dd>

<dt><code>test</code></dt>
<dd><p>The type of test taken</p></dd>

<dt><code>antibody</code></dt>
<dd><p>antibody</p></dd>

<dt><code>age_mean_f</code></dt>
<dd><p>Floor value of the average between age_min and age_max</p></dd>

<dt><code>sample_size</code></dt>
<dd><p>The size of the sample</p></dd>

<dt><code>birth_year</code></dt>
<dd><p>The year in which the individuals of each age group
were born</p></dd>

<dt><code>prev_obs</code></dt>
<dd><p>Observed prevalence</p></dd>

<dt><code>prev_obs_lower</code></dt>
<dd><p>Lower limit of the confidence interval for the
observed prevalence</p></dd>

<dt><code>prev_obs_upper</code></dt>
<dd><p>Upper limit of the confidence interval for the
observed prevalence</p></dd>


</dl><p>The last six columns can be added to <code>serodata</code> by means of the function
<code><a href="prepare_serodata.html">prepare_serodata()</a></code>.</p></dd>


<dt>size_text</dt>
<dd><p>Text size of the graph returned by the function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A ggplot object containing the seropositivity-vs-age graph including
the data, the fitted model and their corresponding confidence intervals.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">chagas2012</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">serodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_serodata.html">prepare_serodata</a></span><span class="op">(</span><span class="va">chagas2012</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seromodel_object</span> <span class="op">&lt;-</span> <span class="fu"><a href="run_seromodel.html">run_seromodel</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  serodata <span class="op">=</span> <span class="va">serodata</span>,</span></span>
<span class="r-in"><span>  foi_model <span class="op">=</span> <span class="st">"constant"</span>,</span></span>
<span class="r-in"><span>  n_iters <span class="op">=</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> serofoi model constant finished running ------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> foi_model "constant"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dataset   "COL-035-93"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> country   "COL"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> year      "2012"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> test      "ELISA"           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> antibody  "IgG anti-T.cruzi"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n_sample  "747"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n_agec    "72"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n_iter    "1000"            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> elpd      "-92.75"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se        "6.4"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> converged "Yes"             </span>
<span class="r-in"><span><span class="fu">plot_seroprev_fitted</span><span class="op">(</span><span class="va">seromodel_object</span>,</span></span>
<span class="r-in"><span>  serodata <span class="op">=</span> <span class="va">serodata</span>,</span></span>
<span class="r-in"><span>  size_text <span class="op">=</span> <span class="fl">15</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 64 rows containing missing values (`geom_point()`).</span>
<span class="r-plt img"><img src="plot_seroprev_fitted-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Zulma M. Cucunubá, Nicolás T. Domínguez, Ben Lambert, Pierre Nouvellet.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

